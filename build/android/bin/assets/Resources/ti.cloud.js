defineCloud(exports);
function defineCloud(k){function w(p,h,f){if(void 0===h)throw"Argument "+p+" was not provided!";if(typeof h!=f)throw"Argument "+p+" was an unexpected type! Expected: "+f+", Received: "+typeof h;}function o(p,h){w("data",p,"object");w("callback",h,"function");x(this);this.url||(this.url=this.restNamespace+"/"+this.restMethod+".json");var f=void 0==k.useSecure?!0:k.useSecure;k.debug&&Ti.API.info('ACS Request: { url: "'+this.url+'", verb: "'+this.verb+'", secure: '+(f?"YES":"NO")+", data: "+JSON.stringify(p)+
" })");q.send(this.url,this.verb,p,f,function(g){if(h){var f=g.response;f||(f={});g.meta&&"ok"==g.meta.status?(f.success=!0,f.error=!1,f.meta=g.meta,k.debug&&Ti.API.info(JSON.stringify(f))):(f.success=!1,f.error=!0,f.code=g.meta?g.meta.code:g.statusCode,f.message=g.meta?g.meta.message:g.message||g.statusText,k.debug&&Ti.API.error(f.code+": "+f.message));h(f)}})}function j(){o.call(this,2==arguments.length?arguments[0]:{},2==arguments.length?arguments[1]:arguments[0])}function y(p){o.call(this,{},
p)}function x(p){p.restNamespace||(p.restNamespace=p.property.toLowerCase());p.restMethod||(p.restMethod=p.method.toLowerCase())}var r={PROPERTY_TYPE_ONLY_LATEST:0,PROPERTY_TYPE_SLASH_COMBINE:1,PROPERTY_TYPE_IGNORE:2};r.build=function h(f,g){var k=g.children||[],j;for(j in k)if(k.hasOwnProperty(j)){var b=k[j],s=b.propertyTypes||g.propertyTypes||{};s.children=r.PROPERTY_TYPE_IGNORE;for(var d in g)if(g.hasOwnProperty(d))switch(s[d]||r.PROPERTY_TYPE_ONLY_LATEST){case r.PROPERTY_TYPE_ONLY_LATEST:b[d]=
void 0===b[d]?g[d]:b[d];break;case r.PROPERTY_TYPE_SLASH_COMBINE:var o=[];g[d]&&o.push(g[d]);b[d]&&o.push(b[d]);b[d]=o.join("/")}b.method&&!b.children?f[b.method]=function(d){return function(){return d.executor.apply(d,arguments)}}(b):b.property&&h(f[b.property]={},b)}};r.build(k,{verb:"GET",executor:o,children:[{method:"hasStoredSession",executor:function(){return q.hasStoredSession()}},{method:"retrieveStoredSession",executor:function(){return q.retrieveStoredSession()}},{property:"ACLs",children:[{method:"create",
verb:"POST"},{method:"update",verb:"PUT"},{method:"show"},{method:"remove",restMethod:"delete",verb:"DELETE"},{method:"addUser",restMethod:"add",verb:"POST"},{method:"removeUser",restMethod:"remove",verb:"DELETE"},{method:"checkUser",restMethod:"check"}]},{property:"Chats",children:[{method:"create",verb:"POST"},{method:"query"},{method:"getChatGroups",restMethod:"get_chat_groups",executor:j}]},{property:"Checkins",children:[{method:"create",verb:"POST"},{method:"query",executor:j},{method:"show"},
{method:"remove",restMethod:"delete",verb:"DELETE"}]},{property:"Clients",children:[{method:"geolocate",executor:j}]},{property:"Objects",executor:function(h,f){var g;h&&"object"==typeof h&&(w("data.classname",h.classname,"string"),x(this),this.url=this.restNamespace+"/"+h.classname+"/"+this.restMethod+".json",g=h.classname,delete h.classname);o.call(this,h,f);h.classname=g},children:[{method:"create",verb:"POST"},{method:"show"},{method:"update",verb:"PUT"},{method:"remove",restMethod:"delete",verb:"DELETE"},
{method:"query"}]},{property:"Emails",restNamespace:"custom_mailer",children:[{method:"send",verb:"POST",restMethod:"email_from_template"}]},{property:"KeyValues",children:[{method:"set",verb:"PUT"},{method:"get"},{method:"append",verb:"PUT"},{method:"increment",restMethod:"incrby",verb:"PUT"},{method:"remove",restMethod:"delete",verb:"DELETE"}]},{property:"Photos",children:[{method:"create",verb:"POST"},{method:"show"},{method:"search"},{method:"query",executor:j},{method:"update",verb:"PUT"},{method:"remove",
restMethod:"delete",verb:"DELETE"}]},{property:"PhotoCollections",restNamespace:"collections",children:[{method:"create",verb:"POST"},{method:"show"},{method:"update",verb:"PUT"},{method:"search"},{method:"showSubcollections",restMethod:"show/subcollections"},{method:"showPhotos",restMethod:"show/photos"},{method:"remove",restMethod:"delete",verb:"DELETE"}]},{property:"Places",children:[{method:"create",verb:"POST"},{method:"search",executor:j},{method:"show"},{method:"update",verb:"PUT"},{method:"remove",
restMethod:"delete",verb:"DELETE"},{method:"query",executor:j}]},{property:"Posts",children:[{method:"create",verb:"POST"},{method:"show"},{method:"query",executor:j},{method:"update",verb:"PUT"},{method:"remove",restMethod:"delete",verb:"DELETE"}]},{property:"PushNotifications",restNamespace:"push_notification",verb:"POST",children:[{method:"subscribe"},{method:"unsubscribe",verb:"DELETE"},{method:"notify"}]},{property:"Reviews",children:[{method:"create",verb:"POST"},{method:"show"},{method:"query"},
{method:"update",verb:"PUT"},{method:"remove",restMethod:"delete",verb:"DELETE"}]},{property:"SocialIntegrations",restNamespace:"users",children:[{method:"externalAccountLogin",restMethod:"external_account_login",verb:"POST"},{method:"externalAccountLink",restMethod:"external_account_link",verb:"POST"},{method:"externalAccountUnlink",restMethod:"external_account_unlink",verb:"DELETE"},{method:"searchFacebookFriends",restNamespace:"social",restMethod:"facebook/search_friends",executor:y}]},{property:"Statuses",
children:[{method:"create",verb:"POST"},{method:"search"},{method:"query",executor:j}]},{property:"Users",children:[{method:"create",verb:"POST"},{method:"login",verb:"POST"},{method:"show"},{method:"showMe",restMethod:"show/me",executor:y},{method:"search",executor:j},{method:"query",executor:j},{method:"update",verb:"PUT"},{method:"logout",executor:function(h){o.call(this,{},function(f){q.reset();h(f)})}},{method:"remove",restMethod:"delete",verb:"DELETE",executor:function(){var h=arguments;o.call(this,
2==h.length?h[0]:{},function(f){q.reset();(2==h.length?h[1]:h[0])(f)})}},{method:"requestResetPassword",restMethod:"request_reset_password"}]}]});var q=function(){function h(a,e){a[e>>5]|=128<<24-e%32;a[(e+64>>9<<4)+15]=e;for(var c=Array(80),t=1732584193,d=-271733879,b=-1732584194,i=271733878,h=-1009589776,g=0;g<a.length;g+=16){for(var j=t,v=d,k=b,o=i,q=h,m=0;80>m;m++){c[m]=16>m?a[g+m]:(c[m-3]^c[m-8]^c[m-14]^c[m-16])<<1|(c[m-3]^c[m-8]^c[m-14]^c[m-16])>>>31;var r=t<<5|t>>>27,r=f(f(r,20>m?d&b|~d&i:
40>m?d^b^i:60>m?d&b|d&i|b&i:d^b^i),f(f(h,c[m]),20>m?1518500249:40>m?1859775393:60>m?-1894007588:-899497514)),h=i,i=b,b=d<<30|d>>>2,d=t,t=r}t=f(t,j);d=f(d,v);b=f(b,k);i=f(i,o);h=f(h,q)}return[t,d,b,i,h]}function f(a,e){var c=(a&65535)+(e&65535);return(a>>16)+(e>>16)+(c>>16)<<16|c&65535}function g(a){for(var e=[],c=(1<<u)-1,d=0;d<a.length*u;d+=u)e[d>>5]|=(a.charCodeAt(d/u)&c)<<32-u-d%32;return e}function j(a,e,c){e?(this.oauthKey=a,this.oauthSecret=e):this.appKey=a;this.apiBaseURL=c?c:b.sdk.url.baseURL;
return this}function o(a,e){var c,d="production"==Ti.App.deployType.toLowerCase()?"production":"development";return(c=Ti.App.Properties.getString(a+"-"+d))&&"undefined"!=c||(c=Ti.App.Properties.getString(a))&&"undefined"!=c?c:e}var b,s={},d;null==d&&(d={});d.setProperties=function(a,e){if(null!=a&&null!=e)for(var c in e)a[c]=e[c];return a};d.setProperties(d,{percentEncode:function(a){if(null==a)return"";if(a instanceof Array){for(var e="";0<a.length;++a)""!=e&&(e+="&"),e+=d.percentEncode(a[0]);return e}a=
encodeURIComponent(a);a=a.replace(/\!/g,"%21");a=a.replace(/\*/g,"%2A");a=a.replace(/\'/g,"%27");a=a.replace(/\(/g,"%28");return a.replace(/\)/g,"%29")},decodePercent:function(a){null!=a&&(a=a.replace(/\+/g," "));return decodeURIComponent(a)},getParameterList:function(a){if(null==a)return[];if("object"!=typeof a)return d.decodeForm(a+"");if(a instanceof Array)return a;var e=[],c;for(c in a)e.push([c,a[c]]);return e},getParameterMap:function(a){if(null==a)return{};if("object"!=typeof a)return d.getParameterMap(d.decodeForm(a+
""));if(a instanceof Array){for(var e={},c=0;c<a.length;++c){var b=a[c][0];void 0===e[b]&&(e[b]=a[c][1])}return e}return a},getParameter:function(a,e){if(a instanceof Array)for(var c=0;c<a.length;++c){if(a[c][0]==e)return a[c][1]}else return d.getParameterMap(a)[e];return null},formEncode:function(a){for(var e="",a=d.getParameterList(a),c=0;c<a.length;++c){var b=a[c][1];null==b&&(b="");""!=e&&(e+="&");e+=d.percentEncode(a[c][0])+"="+d.percentEncode(b)}return e},decodeForm:function(a){for(var e=[],
a=a.split("&"),c=0;c<a.length;++c){var b=a[c];if(""!=b){var n=b.indexOf("="),f;0>n?(f=d.decodePercent(b),b=null):(f=d.decodePercent(b.substring(0,n)),b=d.decodePercent(b.substring(n+1)));e.push([f,b])}}return e},setParameter:function(a,e,c){var b=a.parameters;if(b instanceof Array){for(a=0;a<b.length;++a)b[a][0]==e&&(void 0===c?b.splice(a,1):(b[a][1]=c,c=void 0));void 0!==c&&b.push([e,c])}else b=d.getParameterMap(b),b[e]=c,a.parameters=b},setParameters:function(a,e){for(var c=d.getParameterList(e),
b=0;b<c.length;++b)d.setParameter(a,c[b][0],c[b][1])},completeRequest:function(a,e){null==a.method&&(a.method="GET");var c=d.getParameterMap(a.parameters);null==c.oauth_consumer_key&&d.setParameter(a,"oauth_consumer_key",e.consumerKey||"");null==c.oauth_token&&null!=e.token&&d.setParameter(a,"oauth_token",e.token);null==c.oauth_version&&d.setParameter(a,"oauth_version","1.0");null==c.oauth_timestamp&&d.setParameter(a,"oauth_timestamp",d.timestamp());null==c.oauth_nonce&&d.setParameter(a,"oauth_nonce",
d.nonce(6));d.SignatureMethod.sign(a,e)},setTimestampAndNonce:function(a){d.setParameter(a,"oauth_timestamp",d.timestamp());d.setParameter(a,"oauth_nonce",d.nonce(6))},addToURL:function(a,e){newURL=a;if(null!=e){var c=d.formEncode(e);0<c.length&&(newURL=0>a.indexOf("?")?newURL+"?":newURL+"&",newURL+=c)}return newURL},getAuthorizationHeader:function(a,e){for(var c='OAuth realm="'+d.percentEncode(a)+'"',b=d.getParameterList(e),n=0;n<b.length;++n){var f=b[n],i=f[0];0==i.indexOf("oauth_")&&(c+=","+d.percentEncode(i)+
'="'+d.percentEncode(f[1])+'"')}return c},correctTimestamp:function(a){d.timeCorrectionMsec=1E3*a-(new Date).getTime()},timeCorrectionMsec:0,timestamp:function(){var a=(new Date).getTime()+d.timeCorrectionMsec;return Math.floor(a/1E3)},nonce:function(a){for(var e=d.nonce.CHARS,c="",b=0;b<a;++b){var n=Math.floor(Math.random()*e.length);c+=e.substring(n,n+1)}return c}});d.nonce.CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXTZabcdefghiklmnopqrstuvwxyz";d.declareClass=function(a,e,c){var b=a[e];a[e]=c;if(null!=
c&&null!=b)for(var d in b)"prototype"!=d&&(c[d]=b[d]);return c};d.declareClass(d,"SignatureMethod",function(){});d.setProperties(d.SignatureMethod.prototype,{sign:function(a){var e=this.getSignature(d.SignatureMethod.getBaseString(a));d.setParameter(a,"oauth_signature",e);return e},initialize:function(a,e){var c;c=null!=e.accessorSecret&&9<a.length&&"-Accessor"==a.substring(a.length-9)?e.accessorSecret:e.consumerSecret;this.key=d.percentEncode(c)+"&"+d.percentEncode(e.tokenSecret)}});d.setProperties(d.SignatureMethod,
{sign:function(a,e){var c=d.getParameterMap(a.parameters).oauth_signature_method;if(null==c||""==c)c="HMAC-SHA1",d.setParameter(a,"oauth_signature_method",c);d.SignatureMethod.newMethod(c,e).sign(a)},newMethod:function(a,e){var c=d.SignatureMethod.REGISTERED[a];if(null!=c){var b=new c;b.initialize(a,e);return b}var c=Error("signature_method_rejected"),n="";for(b in d.SignatureMethod.REGISTERED)""!=n&&(n+="&"),n+=d.percentEncode(b);c.oauth_acceptable_signature_methods=n;throw c;},REGISTERED:{},registerMethodClass:function(a,
e){for(var c=0;c<a.length;++c)d.SignatureMethod.REGISTERED[a[c]]=e},makeSubclass:function(a){var e=d.SignatureMethod,c=function(){e.call(this)};c.prototype=new e;c.prototype.getSignature=a;return c.prototype.constructor=c},getBaseString:function(a){var e=a.action,c=e.indexOf("?");if(0>c)c=a.parameters;else for(var c=d.decodeForm(e.substring(c+1)),b=d.getParameterList(a.parameters),n=0;n<b.length;++n)c.push(b[n]);return d.percentEncode(a.method.toUpperCase())+"&"+d.percentEncode(d.SignatureMethod.normalizeUrl(e))+
"&"+d.percentEncode(d.SignatureMethod.normalizeParameters(c))},normalizeUrl:function(a){var e=d.SignatureMethod.parseUri(a),a=e.protocol.toLowerCase(),c=e.authority.toLowerCase();if("http"==a&&80==e.port||"https"==a&&443==e.port){var b=c.lastIndexOf(":");0<=b&&(c=c.substring(0,b))}(e=e.path)||(e="/");return a+"://"+c+e},parseUri:function(a){for(var b="source,protocol,authority,userInfo,user,password,host,port,relative,path,directory,file,query,anchor".split(","),a=/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@\/]*):?([^:@\/]*))?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/.exec(a),
c={},d=14;d--;)c[b[d]]=a[d]||"";return c},normalizeParameters:function(a){if(null==a)return"";for(var b=d.getParameterList(a),a=[],c=0;c<b.length;++c){var f=b[c];"oauth_signature"!=f[0]&&a.push([d.percentEncode(f[0])+" "+d.percentEncode(f[1]),f])}a.sort(function(a,c){return a[0]<c[0]?-1:a[0]>c[0]?1:0});b=[];for(c=0;c<a.length;++c)b.push(a[c][1]);return d.formEncode(b)}});d.SignatureMethod.registerMethodClass(["PLAINTEXT","PLAINTEXT-Accessor"],d.SignatureMethod.makeSubclass(function(){return this.key}));
d.SignatureMethod.registerMethodClass(["HMAC-SHA1","HMAC-SHA1-Accessor"],d.SignatureMethod.makeSubclass(function(a){r="=";var b=this.key,c=g(b);16<c.length&&(c=h(c,b.length*u));for(var d=Array(16),b=Array(16),f=0;16>f;f++)d[f]=c[f]^909522486,b[f]=c[f]^1549556828;a=h(d.concat(g(a)),512+a.length*u);a=h(b.concat(a),672);c="";for(b=0;b<4*a.length;b+=3){d=(a[b>>2]>>8*(3-b%4)&255)<<16|(a[b+1>>2]>>8*(3-(b+1)%4)&255)<<8|a[b+2>>2]>>8*(3-(b+2)%4)&255;for(f=0;4>f;f++)c=8*b+6*f>32*a.length?c+r:c+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(d>>
6*(3-f)&63)}return c}));var r="",u=8;j.prototype.sendRequest=function(a,e,c,f,h){var g=b.js.sdk.utils.getAuthType(this);if(g==b.constants.unknown)h(b.constants.noAppKeyError);else{var i="",i=f?i+b.sdk.url.https:i+b.sdk.url.http;i+=this.apiBaseURL+"/"+b.sdk.url.version+"/"+a;g==b.constants.app_key&&(i+=b.constants.keyParam+this.appKey);c||(c={});e=e?e.toUpperCase():b.constants.get_method;c[b.constants.suppressCode]="true";(f=b.js.sdk.utils.retrieveSessionId())&&(i+=(-1!=i.indexOf("?")?"&":"?")+b.constants.sessionId+
"="+f);f=c;if(Ti.App.analytics){var j=f.analytics||{};j.id=Ti.Platform.createUUID();Ti.Platform.id&&(j.mid=Ti.Platform.id);j.aguid=Ti.App.guid;j.event="cloud."+a.replace(/\//g,".").replace(/\.json/,"");j.deploytype=Ti.App.deployType||"development";j.sid=Ti.App.sessionId;f.ti_analytics=JSON.stringify(j)}c=b.js.sdk.utils.cleanInvalidData(c);if(a=b.js.sdk.utils.getFileObject(c)){try{var l;l=a.toString().match(/TiFilesystemFile/)?a.read():a;if(!l){h(b.constants.fileLoadError);return}c[b.constants.file]?
(delete c[b.constants.file],c[b.constants.file]=l):c[b.constants.photo]&&(delete c[b.constants.photo],c[b.constants.photo]=l)}catch(k){h(b.constants.fileLoadError);return}l={};g==b.constants.oauth&&(i+=(-1!=i.indexOf("?")?"&":"?")+b.constants.oauth_consumer_key+"="+this.oauthKey,g={method:e,action:i,parameters:[]},b.js.sdk.utils.populateOAuthParameters(g.parameters,this.oauthKey),d.completeRequest(g,{consumerSecret:this.oauthSecret}),l.Authorization=d.getAuthorizationHeader("",g.parameters))}else if(l=
{},g==b.constants.oauth){i+=(-1!=i.indexOf("?")?"&":"?")+b.constants.oauth_consumer_key+"="+this.oauthKey;var g={method:e,action:i,parameters:[]},v;for(v in c)c.hasOwnProperty(v)&&g.parameters.push([v,c[v]]);b.js.sdk.utils.populateOAuthParameters(g.parameters,this.oauthKey);d.completeRequest(g,{consumerSecret:this.oauthSecret});l.Authorization=d.getAuthorizationHeader("",g.parameters)}b.js.sdk.utils.sendAppceleratorRequest(i,e,c,l,h)}};b=void 0;b={constants:{},js:{}};b.js.sdk={};b.js.sdk.utils={};
b.sdk={};b.sdk.url={};b.sdk.url.http="http://";b.sdk.url.https="https://";b.sdk.url.baseURL="api.cloud.appcelerator.com";b.sdk.url.version="v1";b.constants.app_key=1;b.constants.oauth=2;b.constants.unknown=-1;b.constants.keyParam="?key=";b.constants.file="file";b.constants.photo="photo";b.constants.suppressCode="suppress_response_codes";b.constants.sessionId="_session_id";b.constants.oauth_consumer_key="oauth_consumer_key";b.constants.noAppKeyError={meta:{status:"fail",code:409,message:"Application key is not provided."}};
b.constants.fileLoadError={meta:{status:"fail",code:400,message:"Unable to load file"}};b.js.sdk.utils.sessionId=null;b.js.sdk.utils.retrieveSessionId=function(){null===b.js.sdk.utils.sessionId&&(b.js.sdk.utils.sessionId=Ti.App.Properties.getString("ACS-StoredSessionId"));return b.js.sdk.utils.sessionId&&"undefined"!=b.js.sdk.utils.sessionId?b.js.sdk.utils.sessionId:null};b.js.sdk.utils.storeSessionId=function(a){a&&(b.js.sdk.utils.sessionId=a,Ti.App.Properties.setString("ACS-StoredSessionId",a))};
b.js.sdk.utils.clearSessionId=function(){b.js.sdk.utils.sessionId=!1;Ti.App.Properties.setString("ACS-StoredSessionId","")};b.js.sdk.utils.getAuthType=function(a){if(a){if(a.appKey)return b.constants.app_key;if(a.oauthKey&&a.oauthSecret)return b.constants.oauth}return b.constants.unknown};b.js.sdk.utils.getFileObject=function(a){if(a)for(var d in a)if(a.hasOwnProperty(d)&&(d==b.constants.photo||d==b.constants.file))return a[d];return null};b.js.sdk.utils.cleanInvalidData=function(a){if(a){for(var b in a)if(a.hasOwnProperty(b)){null==
a[b]&&delete a[b];if("object"==typeof a[b]){var c=JSON.stringify(a[b]);if("{}"==c)continue;if(a[b].nativePath)continue;a[b]=c}if(!0===a[b]||!1===a[b])a[b]=a[b]?1:0}return a}return{}};b.js.sdk.utils.uploadMessageCallback=function(a){return a&&a.data?JSON.parse(a.data):{}};b.js.sdk.utils.getOAuthParameters=function(a){var b="";if(a)for(var a=d.getParameterList(a),c=0;c<a.length;++c){var f=a[c],g=f[0];0==g.indexOf("oauth_")&&"oauth_token"!=g&&(b+="&"+d.percentEncode(g)+"="+d.percentEncode(f[1]))}0<b.length&&
(b=b.substring(1));return b};b.js.sdk.utils.populateOAuthParameters=function(a,b){a&&b&&(a.push(["oauth_version","1.0"]),a.push(["oauth_consumer_key",b]),a.push(["oauth_signature_method","HMAC-SHA1"]),a.push(["oauth_nonce",d.nonce(15)]))};b.js.sdk.utils.sendAppceleratorRequest=function(a,e,c,f,g){var h=Ti.Network.createHTTPClient({timeout:6E4,onsendstream:function(b){k.onsendstream&&k.onsendstream({url:a,progress:b.progress})},ondatastream:function(b){k.ondatastream&&k.ondatastream({url:a,progress:b.progress})},
onerror:function(a){var b={},c=this.responseText;try{var d=c;if(!d||0>=d.length)c=!1;else{for(var d=d.replace(/^\s\s*/,""),e=/\s/,f=d.length;e.test(d.charAt(--f)););c=d.slice(0,f+1)}c&&0<c.length&&(b=JSON.parse(c))}catch(h){b=h}b.message||(b.message=a.error);b.error=!0;b.statusText=this.statusText;b.status=this.status;b.meta&&(b.metaString=JSON.stringify(b.meta));g(b)},onload:function(){var a=JSON.parse(this.responseText);a&&a.meta&&(a.metaString=JSON.stringify(a.meta),b.js.sdk.utils.storeSessionId(a.meta.session_id));
g(a)}}),i=a;switch(e.toUpperCase()){case "DELETE":case "GET":var j="",l;for(l in c)c.hasOwnProperty(l)&&(j+="&"+l+"="+d.percentEncode(c[l]));0<j.length&&(i=0<a.indexOf("?")?i+j:i+("?"+j.substring(1)),c={})}k.debug&&(Ti.API.info(e+": "+i),Ti.API.info("header: "+JSON.stringify(f)),Ti.API.info("data: "+JSON.stringify(c)));h.open(e,i);h.setRequestHeader("Accept-Encoding","gzip,deflate");if(f)for(l in f)f.hasOwnProperty(l)&&h.setRequestHeader(l,f[l]);h.send(c)};var q=null;s.send=function(a,b,c,d,f){if(null==
q){var g=o("acs-api-key",null),h=o("acs-base-url","api.cloud.appcelerator.com"),k=o("acs-oauth-key",null),l=o("acs-oauth-secret",null);if(k&&l)q=new j(k,l,h);else if(g)q=new j(g,null,h);else throw"ACS CREDENTIALS NOT SPECIFIED!";}q.sendRequest(a,b,c,d,f)};s.hasStoredSession=function(){return!!b.js.sdk.utils.retrieveSessionId()};s.retrieveStoredSession=function(){return b.js.sdk.utils.retrieveSessionId()};s.reset=function(){b.js.sdk.utils.clearSessionId();q=null};return s}();return k};
